<html>
<head>

</head>
<body style="padding: 0; margin: 0">


<canvas id="canvas" width="800" height="600" 
	style="
		width: 100%; height: 100%;
		grid-column: 1; grid-row: 1">
</canvas>

<span style="position: fixed; z-index: 100; left: 10px; top: 10px;">
	
</span>

<script src="./libs/gl-matrix.js"></script>

<script type="module" async>
	
	import {PotreeLoader} from "./src/octree/PotreeLoader.js";
	import {Geometry} from "./src/Geometry.js";
	import {Mesh} from "./src/scene/Mesh.js";
	import * as main from "./main.js";
	window.main = main;

	let box = Geometry.createBox();
	let node = new Mesh("box", box);
	main.scene.nodes.push(node);

	let node2 = new Mesh("box2", box);
	node2.position.set(1, 1, -0.3);
	node2.scale.set(0.5, 0.5, 0.5);
	main.scene.nodes.push(node2);

	let url = "http://localhost:8080/nocommit/lion/metadata.json";
	PotreeLoader.load(url).then( async (pointcloud) => {

		await pointcloud.loader.loadHierarchy(pointcloud.root);
		await pointcloud.loader.loadNode(pointcloud.root);

		pointcloud.visibleNodes = [pointcloud.root];
		main.scene.nodes.push(pointcloud);

	});


</script>



</body>
</html>